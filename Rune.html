<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>每日盧恩占卜</title>
  <style>
    body { background:#0f1014;color:#fff;font-family:Arial, sans-serif;margin:0;padding:20px;}
    .wrap{max-width:900px;margin:0 auto;}
    h1{font-size:24px;}
    button{margin:5px;padding:8px 12px;border-radius:6px;border:none;background:#222;color:#fff;cursor:pointer;}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:20px;}
    .card{background:rgba(255,255,255,0.05);padding:12px;border-radius:12px;text-align:center;position:relative;}
    .card img{width:100%;border-radius:12px;margin-bottom:6px;}
    .card .rune{font-size:50px;font-weight:bold;}
    .card .title{font-weight:700;margin:6px 0;}
    .card .kw{font-style:italic;color:#bdbdbd;}
    .card .desc{font-size:14px;margin-top:6px;color:#eee;}
    .info{margin-top:12px;font-size:14px;color:#ccc;}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>盧恩符文占卜</h1>
    <div>
      <button id="dailyBtn">今日運勢（三符）</button>
      <button id="singleBtn">隨機抽一張</button>
      <button id="questionBtn">問問題抽三張</button>
    </div>
    <div id="grid" class="grid"></div>
    <div id="info" class="info"></div>
  </div>

<script>
const RUNES = [
  {sym:'ᚠ',name:'Fehu',sound:'F',keywords:'財富、資源',desc:'物質與能量的流入；管理資源與行動。'},
  {sym:'ᚢ',name:'Uruz',sound:'U',keywords:'力量、生命力',desc:'原始力量與康健，面對挑戰的勇氣。'},
  {sym:'ᚦ',name:'Thurisaz',sound:'Th',keywords:'守護、衝突',desc:'警惕與防衛；面對阻礙時保持冷靜。'},
  {sym:'ᚨ',name:'Ansuz',sound:'A',keywords:'智慧、溝通',desc:'信息、靈感與溝通的力量。'},
  {sym:'ᚱ',name:'Raidho',sound:'R',keywords:'旅程、節奏',desc:'行動與秩序，跟隨正確的節奏前進。'},
  {sym:'ᚲ',name:'Kaunan',sound:'K',keywords:'洞察、啟發',desc:'光明與技巧，學習與匠心。'},
  {sym:'ᚷ',name:'Gebo',sound:'G',keywords:'給予、交換',desc:'關係中的互惠與禮物。'},
  {sym:'ᚹ',name:'Wunjo',sound:'W',keywords:'喜悅、和諧',desc:'內在喜悅與團隊和諧。'},
  {sym:'ᚺ',name:'Hagalaz',sound:'H',keywords:'破壞、轉變',desc:'突變或風暴帶來重整的機會。'},
  {sym:'ᚾ',name:'Nauthiz',sound:'N',keywords:'需求、限制',desc:'被限制時尋找修正與耐心。'},
  {sym:'ᛁ',name:'Isa',sound:'I',keywords:'停滯、凝視',desc:'暫停、清空，等待時機。'},
  {sym:'ᛃ',name:'Jera',sound:'J',keywords:'收成、循環',desc:'時機成熟，穩定的收穫。'},
  {sym:'ᛇ',name:'Eihwaz',sound:'Ei',keywords:'韌性、通道',desc:'守護與耐心，轉化的連接點。'},
  {sym:'ᛈ',name:'Perthro',sound:'P',keywords:'機運、神秘',desc:'未知的容器，運氣與內在秘密。'},
  {sym:'ᛉ',name:'Algiz',sound:'Z',keywords:'保護、直覺',desc:'靈性保護與直覺警示。'},
  {sym:'ᛋ',name:'Sowilo',sound:'S',keywords:'太陽、成功',desc:'光明、成功、清晰的方向。'},
  {sym:'ᛏ',name:'Tiwaz',sound:'T',keywords:'正義、紀律',desc:'公平、責任與勇敢的行為。'},
  {sym:'ᛒ',name:'Berkano',sound:'B',keywords:'成長、更新',desc:'療癒、孕育與新生的能量。'},
  {sym:'ᛖ',name:'Ehwaz',sound:'E',keywords:'夥伴、變動',desc:'可靠夥伴與關係的流動。'},
  {sym:'ᛗ',name:'Mannaz',sound:'M',keywords:'自我、群體',desc:'自我與社群互動的課題。'},
  {sym:'ᛚ',name:'Laguz',sound:'L',keywords:'水、直覺',desc:'情感流動與直覺導航。'},
  {sym:'ᛜ',name:'Ingwaz',sound:'Ng',keywords:'內化、孕育',desc:'內在孕育，為行動做準備。'},
  {sym:'ᛞ',name:'Dagaz',sound:'D',keywords:'黎明、突破',desc:'覺醒與轉機，黑暗到光明的門檻。'},
  {sym:'ᛟ',name:'Othala',sound:'O',keywords:'根基、遺產',desc:'家園、傳承與長遠資產。'}
];

const BG_LIST = [
  'assets/bg/img_0058.jpeg',
  'assets/bg/img_0059.jpeg',
  'assets/bg/img_0060.jpeg',
  'assets/bg/img_0061.jpeg'
];

// 取得日期字串
function todayString(){ return new Date().toISOString().slice(0,10); }

// 前端簡單 hash
function hash32(str){
  let h = 2166136261 >>> 0;
  for(let i=0;i<str.length;i++){ h ^= str.charCodeAt(i); h = Math.imul(h,16777619)>>>0;}
  return h;
}

// 從種子選索引
function pickIndex(seed){ return hash32(seed) % RUNES.length; }

// 建立符文卡片
function makeCard(rune, bg){
  const div = document.createElement('div');
  div.className = 'card';
  div.innerHTML = `
    <img src="${bg}" alt="背景圖">
    <div class="rune">${rune.sym}</div>
    <div class="title">${rune.name}（${rune.sound}）</div>
    <div class="kw">${rune.keywords}</div>
    <div class="desc">${rune.desc}</div>
  `;
  return div;
}

// 顯示三符今日運勢
function dailyThree(){
  const grid = document.getElementById('grid');
  grid.innerHTML='';
  const day = todayString();
  const slots = ['過去','現在','未來'];
  for(let i=0;i<3;i++){
    const seed = day + '|' + i;
    const rune = RUNES[pickIndex(seed)];
    const bg = BG_LIST[pickIndex(seed+'bg') % BG_LIST.length];
    grid.appendChild(makeCard(rune,bg));
  }
  document.getElementById('info').textContent = `今日運勢（三符） ${day}`;
}

// 隨機抽一張
function randomOne(){
  const grid = document.getElementById('grid');
  grid.innerHTML='';
  const rune = RUNES[Math.floor(Math.random()*RUNES.length)];
  const bg = BG_LIST[Math.floor(Math.random()*BG_LIST.length)];
  grid.appendChild(makeCard(rune,bg));
  document.getElementById('info').textContent = '隨機抽一張符文';
}

// 問問題抽三張
function questionThree(){
  const grid = document.getElementById('grid');
  grid.innerHTML='';
  for(let i=0;i<3;i++){
    const rune = RUNES[Math.floor(Math.random()*RUNES.length)];
    const bg = BG_LIST[Math.floor(Math.random()*BG_LIST.length)];
    grid.appendChild(makeCard(rune,bg));
  }
  document.getElementById('info').textContent = '問問題抽三張符文';
}

document.getElementById('dailyBtn').addEventListener('click',dailyThree);
document.getElementById('singleBtn').add
